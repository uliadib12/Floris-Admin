import"./onInit.tzFMZM2B.js";class d{id;name;variants;images;description;constructor({id:n=0,name:a="",variants:e=[],images:t=[],description:s=""}){this.id=n,this.name=a,this.variants=e,this.images=t,this.description=s}}class o{name;price;stock;size;constructor({name:n="",price:a=0,stock:e=0,size:t=""}){this.name=n,this.price=a,this.stock=e,this.size=t}}m();async function m(){const i=await l();u(i),b()}function l(){return new Promise((i,n)=>{i([new d({id:1,name:"Category 1",variants:[new o({name:"Variant 1",price:100,stock:10,size:"S"}),new o({name:"Variant 2",price:200,stock:20,size:"M"}),new o({name:"Variant 3",price:300,stock:30,size:"L"})],images:["https://via.placeholder.com/150","https://via.placeholder.com/150","https://via.placeholder.com/150"],description:"Category 1 description"}),new d({id:2,name:"Category 2",variants:[],images:[],description:"Category 2 description"})])})}function u(i){const a=$("#dataTable")[0].tBodies[0];i.forEach(e=>{const t=a.insertRow();t.insertCell().innerText=e.id.toString(),t.insertCell().innerText=e.name,t.insertCell().innerHTML=g(e.id,e.variants).map(s=>s.outerHTML).join("<br><br>"),t.insertCell().innerHTML=v(e.id,e.images).map(s=>s.outerHTML).join("<br><br>"),t.insertCell().innerText=e.description}),p(),f()}function b(){$("#content-category")[0].classList.remove("invisible")}function g(i,n){const a=[];return n.forEach(e=>{const t=document.createElement("button");t.classList.add("btn","btn-primary","btn-sm","button-edit-variant"),t.innerText=e.name,t.setAttribute("data-id",i.toString()),t.setAttribute("data-variantIndex",n.indexOf(e).toString()),t.setAttribute("data-variant",JSON.stringify(e)),t.setAttribute("data-toggle","modal"),t.setAttribute("data-target","#modalEditVariant"),a.push(t)}),a}function p(){const i=$(".button-edit-variant"),n=$("#modalEditVariant");i.each((a,e)=>{e.addEventListener("click",()=>{const t=JSON.parse(e.getAttribute("data-variant")??"{}"),s=e.getAttribute("data-id"),r=e.getAttribute("data-variantIndex");n.find("#id").val(s),n.find("#variantIndex").val(r),n.find("#name").val(t.name),n.find("#price").val(t.price),n.find("#stock").val(t.stock),n.find("#size").val(t.size)})})}function v(i,n){const a=[];return n.forEach(e=>{const t=document.createElement("button");t.classList.add("btn","btn-primary","btn-sm","button-edit-image"),t.innerText="Image"+(n.indexOf(e)+1),t.setAttribute("data-id",i.toString()),t.setAttribute("data-imageIndex",n.indexOf(e).toString()),t.setAttribute("data-image",e),t.setAttribute("data-toggle","modal"),t.setAttribute("data-target","#modalImage"),a.push(t)}),a}function f(){const i=$(".button-edit-image"),n=$("#modalImage");i.each((a,e)=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-image"),s=e.getAttribute("data-id"),r=e.getAttribute("data-imageIndex");n.find("#id").val(s),n.find("#imageIndex").val(r);const c=n.find("#image")[0];c.src=t??""})})}
